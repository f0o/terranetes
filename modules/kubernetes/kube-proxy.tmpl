{"apiVersion":"v1","items":[{"apiVersion":"v1","kind":"ConfigMap","metadata":{"annotations":{"scheduler.alpha.kubernetes.io/critical-pod":""},"labels":{"app":"kube-proxy","component":"kube-proxy","tier":"control-plane","heritage":"terranetes"},"name":"kube-proxy","namespace":"kube-system"},"data":{"kube-proxy.conf":"apiVersion: v1\nclusters:\n- cluster:\n    certificate-authority: /run/secrets/kubernetes.io/serviceaccount/ca.crt\n    server: https://${network.api}:6443\n  name: k8s\ncontexts:\n- context:\n    cluster: k8s\n    user: system:kube-proxy\n  name: system:kube-proxy@k8s\ncurrent-context: system:kube-proxy@k8s\nkind: Config\npreferences: {}\nusers:\n- name: system:kube-proxy\n  user:\n    client-certificate: /etc/kubernetes/kube-proxy.crt\n    client-key: /etc/kubernetes/kube-proxy.key","kube-proxy.crt":"${cert}","kube-proxy.key":"${key}"}},{"apiVersion":"apps/v1","kind":"DaemonSet","metadata":{"annotations":{"scheduler.alpha.kubernetes.io/critical-pod":""},"labels":{"app":"kube-proxy","component":"kube-proxy","tier":"control-plane","heritage":"terranetes"},"name":"kube-proxy","namespace":"kube-system"},"spec":{"selector":{"matchLabels":{"app":"kube-proxy","component":"kube-proxy","tier":"control-plane","heritage":"terranetes"}},"template":{"metadata":{"annotations":{"scheduler.alpha.kubernetes.io/critical-pod":""},"labels":{"app":"kube-proxy","component":"kube-proxy","tier":"control-plane","heritage":"terranetes"}},"spec":{"hostNetwork":true,"priorityClassName":"system-node-critical","restartPolicy":"Always","containers":[{"name":"kube-proxy","command":["kube-proxy","--kubeconfig=/etc/kubernetes/kube-proxy.conf","--healthz-bind-address=127.0.0.1","--cluster-cidr=10.244.0.0/16"],"image":"gcr.io/google_containers/kube-proxy-amd64:$${KUBERNETES_VERSION}","livenessProbe":{"failureThreshold":8,"httpGet":{"host":"127.0.0.1","path":"/healthz","port":10256,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":15},"securityContext":{"privileged":true},"volumeMounts":[{"mountPath":"/etc/kubernetes","name":"kubeconfig","readOnly":true}]}],"volumes":[{"name":"kubeconfig","configMap":{"name":"kube-proxy","items":[{"key":"kube-proxy.conf","path":"kube-proxy.conf"},{"key":"kube-proxy.crt","path":"kube-proxy.crt"},{"key":"kube-proxy.key","path":"kube-proxy.key"}]}}]}}}}],"kind":"List"}